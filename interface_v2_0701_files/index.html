<!DOCTYPE html>
<!-- saved from url=(0091)https://cdpn.io/cpe/boomboom/index.html?key=index.html-f760bc26-c7d2-8ec0-c930-8730b8862ecf -->
<html lang="en" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  
  <title>CodePen Demo</title>

  <meta name="robots" content="noindex">

  <link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">
  <link rel="mask-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111">
  <link rel="canonical" href="https://codepen.io/Hairi-Jiang/pen/MWdRXXj">

  
  

  <style id="INLINE_PEN_STYLESHEET_ID">
    
  </style>

  
<script src="./stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js.下载"></script>
<script src="./iframeConsoleRunner-6d8bf8b4b479137260842506acbb12717dace0823c023e08b96360e60b0840d9.js.下载"></script>
<script src="./iframeRefreshCSS-44fe83e49b63affec96918c9af88c0d80b209a862cf87ac46bc933074b8c557d.js.下载"></script>
<script src="./iframeRuntimeErrors-4f205f2c14e769b448bcf477de2938c681660d5038bc464e3700256713ebe261.js.下载"></script>
<script>'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var NanoparticleSimulator = function NanoparticleSimulator() {
    var lipids = [{ name: 'EPC', min: 0, max: 75 }, { name: 'DPPC', min: 0, max: 75 }, { name: 'DSPE', min: 0, max: 60 }, { name: 'Cholesterol', min: 0, max: 60 }];

    var RNAOptions = ['miR26a', 'miR27a', 'HMBG1 target siRNA', 'TNFRSF19L siRNA', 'anti-podoplanin siRNA'];

    var _React$useState = React.useState(lipids.map(function () {
        return '';
    })),
        _React$useState2 = _slicedToArray(_React$useState, 2),
        inputs = _React$useState2[0],
        setInputs = _React$useState2[1];

    var _React$useState3 = React.useState(''),
        _React$useState4 = _slicedToArray(_React$useState3, 2),
        selectedRNA = _React$useState4[0],
        setSelectedRNA = _React$useState4[1];

    var _React$useState5 = React.useState({
        particleSize: '0',
        zetaPotential: '0',
        pdi: '0'
    }),
        _React$useState6 = _slicedToArray(_React$useState5, 2),
        outputs = _React$useState6[0],
        setOutputs = _React$useState6[1];

    var _React$useState7 = React.useState(''),
        _React$useState8 = _slicedToArray(_React$useState7, 2),
        reference = _React$useState8[0],
        setReference = _React$useState8[1];

    var _React$useState9 = React.useState(lipids.map(function () {
        return '';
    })),
        _React$useState10 = _slicedToArray(_React$useState9, 2),
        errors = _React$useState10[0],
        setErrors = _React$useState10[1];

    var _React$useState11 = React.useState([]),
        _React$useState12 = _slicedToArray(_React$useState11, 2),
        data = _React$useState12[0],
        setData = _React$useState12[1];

    var _React$useState13 = React.useState(''),
        _React$useState14 = _slicedToArray(_React$useState13, 2),
        fileName = _React$useState14[0],
        setFileName = _React$useState14[1];

    var handleFileUpload = function handleFileUpload(event) {
        var file = event.target.files[0];
        setFileName(file.name);
        Papa.parse(file, {
            complete: function complete(results) {
                setData(results.data);
                console.log("Parsed data:", results.data);
            },
            header: true
        });
    };

    var handleInputChange = function handleInputChange(index, value) {
        var newInputs = [].concat(_toConsumableArray(inputs));
        newInputs[index] = value;
        setInputs(newInputs);

        // Validate input
        var newErrors = [].concat(_toConsumableArray(errors));
        var lipid = lipids[index];
        if (value !== '' && (Number(value) < lipid.min || Number(value) > lipid.max)) {
            newErrors[index] = 'Value should be between ' + lipid.min + ' and ' + lipid.max;
        } else {
            newErrors[index] = '';
        }
        setErrors(newErrors);
    };

    var calculateOutputs = function calculateOutputs() {
        var numInputs = inputs.map(Number);
        var sum = numInputs.reduce(function (a, b) {
            return a + b;
        }, 0);
        if (sum !== 100) {
            alert('The sum of all components must equal 100');
            return;
        }

        var matchingRow = void 0;
        if (data.length > 0) {
            matchingRow = data.find(function (row) {
                return row.EPC == numInputs[0] && row.DPPC == numInputs[1] && row.DSPE == numInputs[2] && row.Cholesterol == numInputs[3];
            });
        }

        if (matchingRow) {
            setOutputs({
                particleSize: matchingRow['Particle Size'] || '0 (data not shown)',
                zetaPotential: matchingRow['Zeta Potential'] || '0 (data not shown)',
                pdi: matchingRow['PDI'] || '0 (data not shown)'
            });
            setReference(matchingRow['Ref'] ? 'Paper #' + matchingRow['Ref'] : 'Reference not available');
        } else {
            // Random prediction
            var particleSize = Math.random() * (150 - 50) + 50;
            var zetaPotential = Math.random() * 60 - 30;
            var pdi = Math.random() * (0.3 - 0.05) + 0.05;

            setOutputs({
                particleSize: particleSize.toFixed(2) + 'nm (Predicted)',
                zetaPotential: zetaPotential.toFixed(2) + 'mV (Predicted)',
                pdi: pdi.toFixed(4) + ' (Predicted)'
            });
            setReference('Prediction - No matching data');
        }
    };

    var handleRNAChange = function handleRNAChange(event) {
        setSelectedRNA(event.target.value);
    };

    return React.createElement(
        'div',
        { className: 'container' },
        React.createElement(
            'h2',
            null,
            'Nanoparticle Simulator'
        ),
        React.createElement(
            'div',
            { className: 'file-upload' },
            React.createElement('input', { type: 'file', id: 'csv-file', accept: '.csv', onChange: handleFileUpload }),
            React.createElement(
                'label',
                { htmlFor: 'csv-file' },
                'Upload CSV (Optional)'
            ),
            React.createElement(
                'span',
                { className: 'file-name' },
                fileName
            )
        ),
        React.createElement(
            'div',
            { className: 'input-output-wrapper' },
            React.createElement(
                'div',
                { className: 'input-section' },
                React.createElement(
                    'h3',
                    null,
                    'Input Components'
                ),
                lipids.map(function (lipid, index) {
                    return React.createElement(
                        'div',
                        { key: index, className: 'input-group' },
                        React.createElement(
                            'label',
                            null,
                            lipid.name,
                            ':'
                        ),
                        React.createElement('input', {
                            type: 'number',
                            value: inputs[index],
                            onChange: function onChange(e) {
                                return handleInputChange(index, e.target.value);
                            },
                            min: lipid.min,
                            max: lipid.max,
                            step: '0.1'
                        }),
                        React.createElement(
                            'div',
                            { className: 'recommended-range' },
                            'Recommended range: ',
                            lipid.min,
                            '% - ',
                            lipid.max,
                            '%'
                        ),
                        errors[index] && React.createElement(
                            'div',
                            { className: 'error' },
                            errors[index]
                        )
                    );
                }),
                React.createElement(
                    'div',
                    { className: 'rna-dropdown' },
                    React.createElement(
                        'label',
                        null,
                        'RNA Option:'
                    ),
                    React.createElement(
                        'select',
                        { value: selectedRNA, onChange: handleRNAChange },
                        React.createElement(
                            'option',
                            { value: '' },
                            'Select RNA'
                        ),
                        RNAOptions.map(function (rna, index) {
                            return React.createElement(
                                'option',
                                { key: index, value: rna },
                                rna
                            );
                        })
                    )
                )
            ),
            React.createElement(
                'div',
                { className: 'output-section' },
                React.createElement(
                    'h3',
                    null,
                    'Output Features'
                ),
                React.createElement(
                    'p',
                    null,
                    'Particle Size: ',
                    React.createElement(
                        'span',
                        { className: 'output-value' },
                        outputs.particleSize
                    )
                ),
                React.createElement(
                    'p',
                    null,
                    'Zeta Potential: ',
                    React.createElement(
                        'span',
                        { className: 'output-value' },
                        outputs.zetaPotential
                    )
                ),
                React.createElement(
                    'p',
                    null,
                    'PDI: ',
                    React.createElement(
                        'span',
                        { className: 'output-value' },
                        outputs.pdi
                    )
                ),
                reference && React.createElement(
                    'p',
                    { className: 'reference' },
                    'Reference: ',
                    reference
                )
            )
        ),
        React.createElement(
            'div',
            { className: 'button-section' },
            React.createElement(
                'button',
                { onClick: calculateOutputs },
                'Calculate'
            )
        )
    );
};

ReactDOM.render(React.createElement(NanoparticleSimulator, null), document.getElementById('root'));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIklubGluZSBCYWJlbCBzY3JpcHQiXSwibmFtZXMiOlsiTmFub3BhcnRpY2xlU2ltdWxhdG9yIiwibGlwaWRzIiwibmFtZSIsIm1pbiIsIm1heCIsIlJOQU9wdGlvbnMiLCJSZWFjdCIsInVzZVN0YXRlIiwibWFwIiwiaW5wdXRzIiwic2V0SW5wdXRzIiwic2VsZWN0ZWRSTkEiLCJzZXRTZWxlY3RlZFJOQSIsInBhcnRpY2xlU2l6ZSIsInpldGFQb3RlbnRpYWwiLCJwZGkiLCJvdXRwdXRzIiwic2V0T3V0cHV0cyIsInJlZmVyZW5jZSIsInNldFJlZmVyZW5jZSIsImVycm9ycyIsInNldEVycm9ycyIsImRhdGEiLCJzZXREYXRhIiwiZmlsZU5hbWUiLCJzZXRGaWxlTmFtZSIsImhhbmRsZUZpbGVVcGxvYWQiLCJldmVudCIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsIlBhcGEiLCJwYXJzZSIsImNvbXBsZXRlIiwicmVzdWx0cyIsImNvbnNvbGUiLCJsb2ciLCJoZWFkZXIiLCJoYW5kbGVJbnB1dENoYW5nZSIsImluZGV4IiwidmFsdWUiLCJuZXdJbnB1dHMiLCJuZXdFcnJvcnMiLCJsaXBpZCIsIk51bWJlciIsImNhbGN1bGF0ZU91dHB1dHMiLCJudW1JbnB1dHMiLCJzdW0iLCJyZWR1Y2UiLCJhIiwiYiIsImFsZXJ0IiwibWF0Y2hpbmdSb3ciLCJsZW5ndGgiLCJmaW5kIiwicm93IiwiRVBDIiwiRFBQQyIsIkRTUEUiLCJDaG9sZXN0ZXJvbCIsIk1hdGgiLCJyYW5kb20iLCJ0b0ZpeGVkIiwiaGFuZGxlUk5BQ2hhbmdlIiwiZSIsInJuYSIsIlJlYWN0RE9NIiwicmVuZGVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ08sSUFBTUEsd0JBQXdCLFNBQXhCQSxxQkFBd0IsR0FBTTtBQUN2QyxRQUFNQyxTQUFTLENBQ1gsRUFBRUMsTUFBTSxLQUFSLEVBQWVDLEtBQUssQ0FBcEIsRUFBdUJDLEtBQUssRUFBNUIs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O0FBQXhDO0FBQW5CLGlCQUhKO0FBSUk7QUFBQTtBQUFBO0FBQUE7QUFBUTtBQUFBO0FBQUEsMEJBQU0sV0FBVSxjQUFoQjtBQUFnQ0UsZ0NBQVFEO0FBQXhDO0FBQVIsaUJBSko7QUFLS0csNkJBQWE7QUFBQTtBQUFBLHNCQUFHLFdBQVUsV0FBYjtBQUFBO0FBQXFDQTtBQUFyQztBQUxsQjtBQTlCSixTQVBKO0FBNkNJO0FBQUE7QUFBQSxjQUFLLFdBQVUsZ0JBQWY7QUFDSTtBQUFBO0FBQUEsa0JBQVEsU0FBUzJCLGdCQUFqQjtBQUFBO0FBQUE7QUFESjtBQTdDSixLQURKO0FBbURILENBcEpNOztBQXNKQ3FCLFNBQVNDLE1BQVQsQ0FBZ0Isb0JBQUMscUJBQUQsT0FBaEIsRUFBMkNDLFNBQVNDLGNBQVQsQ0FBd0IsTUFBeEIsQ0FBM0MiLCJmaWxlIjoiSW5saW5lIEJhYmVsIHNjcmlwdCIsInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgIGNvbnN0IE5hbm9wYXJ0aWNsZVNpbXVsYXRvciA9ICgpID0+IHtcbiAgICBjb25zdCBsaXBpZHMgPSBbXG4gICAgICAgIHsgbmFtZTogJ0VQQycsIG1pbjogMCwgbWF4OiA3NSB9LFxuICAgICAgICB7IG5hbWU6ICdEUFBDJywgbWluOiAwLCBtYXg6IDc1IH0sXG4gICAgICAgIHsgbmFtZTogJ0RTUEUnLCBtaW46IDAsIG1heDogNjAgfSxcbiAgICAgICAgeyBuYW1lOiAnQ2hvbGVzdGVyb2wnLCBtaW46IDAsIG1heDogNjAgfVxuICAgIF07XG5cbiAgICBjb25zdCBSTkFPcHRpb25zID0gW1xuICAgICAgICAnbWlSMjZhJywgJ21pUjI3YScsICdITUJHMSB0YXJnZXQgc2lSTkEnLCBcbiAgICAgICAgJ1RORlJTRjE5TCBzaVJOQScsICdhbnRpLXBvZG9wbGFuaW4gc2lSTkEnXG4gICAgXTtcblxuICAgIGNvbnN0IFtpbnB1dHMsIHNldElucHV0c10gPSBSZWFjdC51c2VTdGF0ZShsaXBpZHMubWFwKCgpID0+ICcnKSk7XG4gICAgY29uc3QgW3NlbGVjdGVkUk5BLCBzZXRTZWxlY3RlZFJOQV0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgW291dHB1dHMsIHNldE91dHB1dHNdID0gUmVhY3QudXNlU3RhdGUoe1xuICAgICAgICBwYXJ0aWNsZVNpemU6ICcwJyxcbiAgICAgICAgemV0YVBvdGVudGlhbDogJzAnLFxuICAgICAgICBwZGk6ICcwJ1xuICAgIH0pO1xuICAgIGNvbnN0IFtyZWZlcmVuY2UsIHNldFJlZmVyZW5jZV0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgW2Vycm9ycywgc2V0RXJyb3JzXSA9IFJlYWN0LnVzZVN0YXRlKGxpcGlkcy5tYXAoKCkgPT4gJycpKTtcbiAgICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW2ZpbGVOYW1lLCBzZXRGaWxlTmFtZV0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG5cbiAgICBjb25zdCBoYW5kbGVGaWxlVXBsb2FkID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XG4gICAgICAgIHNldEZpbGVOYW1lKGZpbGUubmFtZSk7XG4gICAgICAgIFBhcGEucGFyc2UoZmlsZSwge1xuICAgICAgICAgICAgY29tcGxldGU6IChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RGF0YShyZXN1bHRzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFyc2VkIGRhdGE6XCIsIHJlc3VsdHMuZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGVhZGVyOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9IChpbmRleCwgdmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3SW5wdXRzID0gWy4uLmlucHV0c107XG4gICAgICAgIG5ld0lucHV0c1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgc2V0SW5wdXRzKG5ld0lucHV0cyk7XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgaW5wdXRcbiAgICAgICAgY29uc3QgbmV3RXJyb3JzID0gWy4uLmVycm9yc107XG4gICAgICAgIGNvbnN0IGxpcGlkID0gbGlwaWRzW2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSAnJyAmJiAoTnVtYmVyKHZhbHVlKSA8IGxpcGlkLm1pbiB8fCBOdW1iZXIodmFsdWUpID4gbGlwaWQubWF4KSkge1xuICAgICAgICAgICAgbmV3RXJyb3JzW2luZGV4XSA9IGBWYWx1ZSBzaG91bGQgYmUgYmV0d2VlbiAke2xpcGlkLm1pbn0gYW5kICR7bGlwaWQubWF4fWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdFcnJvcnNbaW5kZXhdID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgc2V0RXJyb3JzKG5ld0Vycm9ycyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGNhbGN1bGF0ZU91dHB1dHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG51bUlucHV0cyA9IGlucHV0cy5tYXAoTnVtYmVyKTtcbiAgICAgICAgY29uc3Qgc3VtID0gbnVtSW5wdXRzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuICAgICAgICBpZiAoc3VtICE9PSAxMDApIHtcbiAgICAgICAgICAgIGFsZXJ0KCdUaGUgc3VtIG9mIGFsbCBjb21wb25lbnRzIG11c3QgZXF1YWwgMTAwJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWF0Y2hpbmdSb3c7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1hdGNoaW5nUm93ID0gZGF0YS5maW5kKHJvdyA9PlxuICAgICAgICAgICAgICAgIHJvdy5FUEMgPT0gbnVtSW5wdXRzWzBdICYmXG4gICAgICAgICAgICAgICAgcm93LkRQUEMgPT0gbnVtSW5wdXRzWzFdICYmXG4gICAgICAgICAgICAgICAgcm93LkRTUEUgPT0gbnVtSW5wdXRzWzJdICYmXG4gICAgICAgICAgICAgICAgcm93LkNob2xlc3Rlcm9sID09IG51bUlucHV0c1szXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaGluZ1Jvdykge1xuICAgICAgICAgICAgc2V0T3V0cHV0cyh7XG4gICAgICAgICAgICAgICAgcGFydGljbGVTaXplOiBtYXRjaGluZ1Jvd1snUGFydGljbGUgU2l6ZSddIHx8ICcwIChkYXRhIG5vdCBzaG93biknLFxuICAgICAgICAgICAgICAgIHpldGFQb3RlbnRpYWw6IG1hdGNoaW5nUm93WydaZXRhIFBvdGVudGlhbCddIHx8ICcwIChkYXRhIG5vdCBzaG93biknLFxuICAgICAgICAgICAgICAgIHBkaTogbWF0Y2hpbmdSb3dbJ1BESSddIHx8ICcwIChkYXRhIG5vdCBzaG93biknXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFJlZmVyZW5jZShtYXRjaGluZ1Jvd1snUmVmJ10gPyBgUGFwZXIgIyR7bWF0Y2hpbmdSb3dbJ1JlZiddfWAgOiAnUmVmZXJlbmNlIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJhbmRvbSBwcmVkaWN0aW9uXG4gICAgICAgICAgICBjb25zdCBwYXJ0aWNsZVNpemUgPSBNYXRoLnJhbmRvbSgpICogKDE1MCAtIDUwKSArIDUwO1xuICAgICAgICAgICAgY29uc3QgemV0YVBvdGVudGlhbCA9IE1hdGgucmFuZG9tKCkgKiA2MCAtIDMwO1xuICAgICAgICAgICAgY29uc3QgcGRpID0gTWF0aC5yYW5kb20oKSAqICgwLjMgLSAwLjA1KSArIDAuMDU7XG5cbiAgICAgICAgICAgIHNldE91dHB1dHMoe1xuICAgICAgICAgICAgICAgIHBhcnRpY2xlU2l6ZTogYCR7cGFydGljbGVTaXplLnRvRml4ZWQoMil9bm0gKFByZWRpY3RlZClgLFxuICAgICAgICAgICAgICAgIHpldGFQb3RlbnRpYWw6IGAke3pldGFQb3RlbnRpYWwudG9GaXhlZCgyKX1tViAoUHJlZGljdGVkKWAsXG4gICAgICAgICAgICAgICAgcGRpOiBwZGkudG9GaXhlZCg0KSArICcgKFByZWRpY3RlZCknXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFJlZmVyZW5jZSgnUHJlZGljdGlvbiAtIE5vIG1hdGNoaW5nIGRhdGEnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVSTkFDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgc2V0U2VsZWN0ZWRSTkEoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoMj5OYW5vcGFydGljbGUgU2ltdWxhdG9yPC9oMj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS11cGxvYWRcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImZpbGVcIiBpZD1cImNzdi1maWxlXCIgYWNjZXB0PVwiLmNzdlwiIG9uQ2hhbmdlPXtoYW5kbGVGaWxlVXBsb2FkfSAvPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiY3N2LWZpbGVcIj5VcGxvYWQgQ1NWIChPcHRpb25hbCk8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZpbGUtbmFtZVwiPntmaWxlTmFtZX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXQtb3V0cHV0LXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0LXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzPklucHV0IENvbXBvbmVudHM8L2gzPlxuICAgICAgICAgICAgICAgICAgICB7bGlwaWRzLm1hcCgobGlwaWQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImlucHV0LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPntsaXBpZC5uYW1lfTo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0c1tpbmRleF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlSW5wdXRDaGFuZ2UoaW5kZXgsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluPXtsaXBpZC5taW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heD17bGlwaWQubWF4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVjb21tZW5kZWQtcmFuZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVjb21tZW5kZWQgcmFuZ2U6IHtsaXBpZC5taW59JSAtIHtsaXBpZC5tYXh9JVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlcnJvcnNbaW5kZXhdICYmIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3JcIj57ZXJyb3JzW2luZGV4XX08L2Rpdj59XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm5hLWRyb3Bkb3duXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+Uk5BIE9wdGlvbjo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCB2YWx1ZT17c2VsZWN0ZWRSTkF9IG9uQ2hhbmdlPXtoYW5kbGVSTkFDaGFuZ2V9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgUk5BPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1JOQU9wdGlvbnMubWFwKChybmEsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtpbmRleH0gdmFsdWU9e3JuYX0+e3JuYX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm91dHB1dC1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMz5PdXRwdXQgRmVhdHVyZXM8L2gzPlxuICAgICAgICAgICAgICAgICAgICA8cD5QYXJ0aWNsZSBTaXplOiA8c3BhbiBjbGFzc05hbWU9XCJvdXRwdXQtdmFsdWVcIj57b3V0cHV0cy5wYXJ0aWNsZVNpemV9PC9zcGFuPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHA+WmV0YSBQb3RlbnRpYWw6IDxzcGFuIGNsYXNzTmFtZT1cIm91dHB1dC12YWx1ZVwiPntvdXRwdXRzLnpldGFQb3RlbnRpYWx9PC9zcGFuPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHA+UERJOiA8c3BhbiBjbGFzc05hbWU9XCJvdXRwdXQtdmFsdWVcIj57b3V0cHV0cy5wZGl9PC9zcGFuPjwvcD5cbiAgICAgICAgICAgICAgICAgICAge3JlZmVyZW5jZSAmJiA8cCBjbGFzc05hbWU9XCJyZWZlcmVuY2VcIj5SZWZlcmVuY2U6IHtyZWZlcmVuY2V9PC9wPn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidXR0b24tc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17Y2FsY3VsYXRlT3V0cHV0c30+Q2FsY3VsYXRlPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cbiAgICAgICAgUmVhY3RET00ucmVuZGVyKDxOYW5vcGFydGljbGVTaW11bGF0b3IgLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpO1xuICAgICJdfQ==</script></head>

<body>
  


    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nanoparticle Simulator</title>
    <script src="./react.production.min.js.下载"></script>
    <script src="./react-dom.production.min.js.下载"></script>
    <script src="./babel.min.js.下载"></script>
    <script src="./papaparse.min.js.下载"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f4f8;
            color: #333;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        h2 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .input-output-wrapper {
            display: flex;
            justify-content: space-between;
            margin-bottom: 40px;
        }
        .input-section, .output-section {
            width: 48%;
            background-color: #f9f9f9;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .input-group {
            margin-bottom: 20px;
        }
        h3 {
            color: #3498db;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #34495e;
        }
        input, select {
            width: 80%;
            padding: 12px;
            border: 2px solid #bdc3c7;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        input:focus, select:focus {
            outline: none;
            border-color: #3498db;
        }
        button {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: background-color 0.3s, transform 0.1s;
        }
        button:hover {
            background-color: #2980b9;
        }
        button:active {
            transform: scale(0.98);
        }
        .error {
            color: #e74c3c;
            font-size: 0.9em;
            margin-top: 5px;
        }
        .reference {
            font-style: italic;
            color: #7f8c8d;
            text-align: center;
            margin-top: 20px;
        }
        .recommended-range {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-top: 5px;
        }
        .file-upload {
            margin-bottom: 40px;
            text-align: center;
        }
        .file-upload input {
            display: none;
        }
        .file-upload label {
            padding: 12px 24px;
            background-color: #2ecc71;
            color: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            display: inline-block;
        }
        .file-upload label:hover {
            background-color: #27ae60;
        }
        .file-name {
            margin-left: 15px;
            font-size: 16px;
            color: #34495e;
        }
        .output-section {
            text-align: left;
        }
        .output-section p {
            margin: 15px 0;
            font-size: 18px;
            color: #2c3e50;
        }
        .output-value {
            font-weight: bold;
            color: #3498db;
        }
        .rna-dropdown {
            margin-top: 30px;
        }
    </style>


    <div id="root"><div class="container"><h2>Nanoparticle Simulator</h2><div class="file-upload"><input type="file" id="csv-file" accept=".csv"><label for="csv-file">Upload CSV (Optional)</label><span class="file-name"></span></div><div class="input-output-wrapper"><div class="input-section"><h3>Input Components</h3><div class="input-group"><label>EPC:</label><input type="number" min="0" max="75" step="0.1" value="0"><div class="recommended-range">Recommended range: 0% - 75%</div></div><div class="input-group"><label>DPPC:</label><input type="number" min="0" max="75" step="0.1" value="0"><div class="recommended-range">Recommended range: 0% - 75%</div></div><div class="input-group"><label>DSPE:</label><input type="number" min="0" max="60" step="0.1" value="0"><div class="recommended-range">Recommended range: 0% - 60%</div></div><div class="input-group"><label>Cholesterol:</label><input type="number" min="0" max="60" step="0.1" value="100"><div class="recommended-range">Recommended range: 0% - 60%</div><div class="error">Value should be between 0 and 60</div></div><div class="rna-dropdown"><label>RNA Option:</label><select><option value="">Select RNA</option><option value="miR26a">miR26a</option><option value="miR27a">miR27a</option><option value="HMBG1 target siRNA">HMBG1 target siRNA</option><option value="TNFRSF19L siRNA">TNFRSF19L siRNA</option><option value="anti-podoplanin siRNA">anti-podoplanin siRNA</option></select></div></div><div class="output-section"><h3>Output Features</h3><p>Particle Size: <span class="output-value">118.82nm (Predicted)</span></p><p>Zeta Potential: <span class="output-value">-20.39mV (Predicted)</span></p><p>PDI: <span class="output-value">0.1052 (Predicted)</span></p><p class="reference">Reference: Prediction - No matching data</p></div></div><div class="button-section"><button>Calculate</button></div></div></div>

    <script type="text/babel">
       const NanoparticleSimulator = () => {
    const lipids = [
        { name: 'EPC', min: 0, max: 75 },
        { name: 'DPPC', min: 0, max: 75 },
        { name: 'DSPE', min: 0, max: 60 },
        { name: 'Cholesterol', min: 0, max: 60 }
    ];

    const RNAOptions = [
        'miR26a', 'miR27a', 'HMBG1 target siRNA', 
        'TNFRSF19L siRNA', 'anti-podoplanin siRNA'
    ];

    const [inputs, setInputs] = React.useState(lipids.map(() => ''));
    const [selectedRNA, setSelectedRNA] = React.useState('');
    const [outputs, setOutputs] = React.useState({
        particleSize: '0',
        zetaPotential: '0',
        pdi: '0'
    });
    const [reference, setReference] = React.useState('');
    const [errors, setErrors] = React.useState(lipids.map(() => ''));
    const [data, setData] = React.useState([]);
    const [fileName, setFileName] = React.useState('');

    const handleFileUpload = (event) => {
        const file = event.target.files[0];
        setFileName(file.name);
        Papa.parse(file, {
            complete: (results) => {
                setData(results.data);
                console.log("Parsed data:", results.data);
            },
            header: true
        });
    };

    const handleInputChange = (index, value) => {
        const newInputs = [...inputs];
        newInputs[index] = value;
        setInputs(newInputs);

        // Validate input
        const newErrors = [...errors];
        const lipid = lipids[index];
        if (value !== '' && (Number(value) < lipid.min || Number(value) > lipid.max)) {
            newErrors[index] = `Value should be between ${lipid.min} and ${lipid.max}`;
        } else {
            newErrors[index] = '';
        }
        setErrors(newErrors);
    };

    const calculateOutputs = () => {
        const numInputs = inputs.map(Number);
        const sum = numInputs.reduce((a, b) => a + b, 0);
        if (sum !== 100) {
            alert('The sum of all components must equal 100');
            return;
        }

        let matchingRow;
        if (data.length > 0) {
            matchingRow = data.find(row =>
                row.EPC == numInputs[0] &&
                row.DPPC == numInputs[1] &&
                row.DSPE == numInputs[2] &&
                row.Cholesterol == numInputs[3]
            );
        }

        if (matchingRow) {
            setOutputs({
                particleSize: matchingRow['Particle Size'] || '0 (data not shown)',
                zetaPotential: matchingRow['Zeta Potential'] || '0 (data not shown)',
                pdi: matchingRow['PDI'] || '0 (data not shown)'
            });
            setReference(matchingRow['Ref'] ? `Paper #${matchingRow['Ref']}` : 'Reference not available');
        } else {
            // Random prediction
            const particleSize = Math.random() * (150 - 50) + 50;
            const zetaPotential = Math.random() * 60 - 30;
            const pdi = Math.random() * (0.3 - 0.05) + 0.05;

            setOutputs({
                particleSize: `${particleSize.toFixed(2)}nm (Predicted)`,
                zetaPotential: `${zetaPotential.toFixed(2)}mV (Predicted)`,
                pdi: pdi.toFixed(4) + ' (Predicted)'
            });
            setReference('Prediction - No matching data');
        }
    };

    const handleRNAChange = (event) => {
        setSelectedRNA(event.target.value);
    };

    return (
        <div className="container">
            <h2>Nanoparticle Simulator</h2>
            <div className="file-upload">
                <input type="file" id="csv-file" accept=".csv" onChange={handleFileUpload} />
                <label htmlFor="csv-file">Upload CSV (Optional)</label>
                <span className="file-name">{fileName}</span>
            </div>
            <div className="input-output-wrapper">
                <div className="input-section">
                    <h3>Input Components</h3>
                    {lipids.map((lipid, index) => (
                        <div key={index} className="input-group">
                            <label>{lipid.name}:</label>
                            <input
                                type="number"
                                value={inputs[index]}
                                onChange={(e) => handleInputChange(index, e.target.value)}
                                min={lipid.min}
                                max={lipid.max}
                                step="0.1"
                            />
                            <div className="recommended-range">
                                Recommended range: {lipid.min}% - {lipid.max}%
                            </div>
                            {errors[index] && <div className="error">{errors[index]}</div>}
                        </div>
                    ))}
                    <div className="rna-dropdown">
                        <label>RNA Option:</label>
                        <select value={selectedRNA} onChange={handleRNAChange}>
                            <option value="">Select RNA</option>
                            {RNAOptions.map((rna, index) => (
                                <option key={index} value={rna}>{rna}</option>
                            ))}
                        </select>
                    </div>
                </div>
                <div className="output-section">
                    <h3>Output Features</h3>
                    <p>Particle Size: <span className="output-value">{outputs.particleSize}</span></p>
                    <p>Zeta Potential: <span className="output-value">{outputs.zetaPotential}</span></p>
                    <p>PDI: <span className="output-value">{outputs.pdi}</span></p>
                    {reference && <p className="reference">Reference: {reference}</p>}
                </div>
            </div>
            <div className="button-section">
                <button onClick={calculateOutputs}>Calculate</button>
            </div>
        </div>
    );
};

        ReactDOM.render(<NanoparticleSimulator />, document.getElementById('root'));
    </script>



  
  


</body></html>